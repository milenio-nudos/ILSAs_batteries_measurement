<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Tomás Urzúa">
<meta name="dcterms.date" content="2025-06-10">
<title>Digital self efficacy scale validation analysis: ICILS &amp; PISA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="Avances_files/libs/clipboard/clipboard.min.js"></script>
<script src="Avances_files/libs/quarto-html/quarto.js"></script>
<script src="Avances_files/libs/quarto-html/popper.min.js"></script>
<script src="Avances_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Avances_files/libs/quarto-html/anchor.min.js"></script>
<link href="Avances_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Avances_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Avances_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Avances_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Avances_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Digital self efficacy scale validation analysis: ICILS &amp; PISA</h1>
            <p class="subtitle lead">Advances</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Tomás Urzúa </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 10, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="1"><h2 id="toc-title">Contenidos</h2>
   
  <ul class="collapse">
<li>
<a href="#icils" id="toc-icils" class="nav-link active" data-scroll-target="#icils"><span class="header-section-number">1</span> ICILS</a>
  <ul class="collapse">
<li><a href="#descriptives" id="toc-descriptives" class="nav-link" data-scroll-target="#descriptives"><span class="header-section-number">1.1</span> Descriptives</a></li>
  <li><a href="#bivariates" id="toc-bivariates" class="nav-link" data-scroll-target="#bivariates"><span class="header-section-number">1.2</span> Bivariates</a></li>
  <li><a href="#confirmatory-factorial-analysis" id="toc-confirmatory-factorial-analysis" class="nav-link" data-scroll-target="#confirmatory-factorial-analysis"><span class="header-section-number">1.3</span> Confirmatory factorial analysis</a></li>
  </ul>
</li>
  <li>
<a href="#pisa" id="toc-pisa" class="nav-link" data-scroll-target="#pisa"><span class="header-section-number">2</span> PISA</a>
  <ul class="collapse">
<li><a href="#descriptives-1" id="toc-descriptives-1" class="nav-link" data-scroll-target="#descriptives-1"><span class="header-section-number">2.1</span> Descriptives</a></li>
  <li><a href="#bivariates-1" id="toc-bivariates-1" class="nav-link" data-scroll-target="#bivariates-1"><span class="header-section-number">2.2</span> Bivariates</a></li>
  <li><a href="#exploratory-factor-model" id="toc-exploratory-factor-model" class="nav-link" data-scroll-target="#exploratory-factor-model"><span class="header-section-number">2.3</span> 3 Exploratory factor model</a></li>
  <li><a href="#confirmatory-factor-analysis" id="toc-confirmatory-factor-analysis" class="nav-link" data-scroll-target="#confirmatory-factor-analysis"><span class="header-section-number">2.4</span> Confirmatory factor analysis</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix"><span class="header-section-number">2.5</span> Appendix</a></li>
  </ul>
</li>
  </ul></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="icils" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> ICILS</h1>
<section id="descriptives" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="descriptives">
<span class="header-section-number">1.1</span> Descriptives</h2>
<div class="cell fig-cap-location-bottom">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb1" data-cap-location="bottom"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="va">icils</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">IS3G24A</span>, <span class="va">IS3G24B</span>, <span class="va">IS3G24C</span>, <span class="va">IS3G24E</span>, <span class="va">IS3G24F</span>,</span>
<span>         <span class="va">IS3G24G</span>, <span class="va">IS3G24H</span>, <span class="va">IS3G24I</span>, <span class="va">IS3G24J</span>, <span class="va">IS3G24M</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">sjPlot</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjPlot/reference/plot_likert.html">plot_likert</a></span><span class="op">(</span>geom.colors <span class="op">=</span> <span class="st">"Reds"</span>,</span>
<span>                      title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"General (n = 135.615)"</span><span class="op">)</span>,</span>
<span>                      sort.frq <span class="op">=</span> <span class="st">"pos.desc"</span>,</span>
<span>                      geom.size <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>                      axis.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"edit_photos"</span>, <span class="st">"edit_text"</span>, <span class="st">"search_info"</span>, </span>
<span>                                      <span class="st">"change_settings"</span>, <span class="st">"create_pres"</span>, <span class="st">"upload_media"</span>, <span class="st">"insert_image"</span>, <span class="st">"install_app"</span>, <span class="st">"eval_info"</span>, <span class="st">"find_source"</span><span class="op">)</span>,</span>
<span>                      catcount <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                      values  <span class="op">=</span>  <span class="st">"sum.outside"</span>,</span>
<span>                      reverse.colors <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                      reverse.scale <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                      show.n <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                      show.prc.sign <span class="op">=</span> <span class="cn">T</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="va">icils</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">IS3G24D</span>, <span class="va">IS3G24K</span>, <span class="va">IS3G24L</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">sjPlot</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjPlot/reference/plot_likert.html">plot_likert</a></span><span class="op">(</span>geom.colors <span class="op">=</span> <span class="st">"Reds"</span>,</span>
<span>                      title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Specialized"</span><span class="op">)</span>,</span>
<span>                      sort.frq <span class="op">=</span> <span class="st">"pos.desc"</span>,</span>
<span>                      geom.size <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>                      axis.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"build_page"</span>, <span class="st">"write_code"</span>, <span class="st">"devel_program"</span><span class="op">)</span>,</span>
<span>                      catcount <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                      values  <span class="op">=</span>  <span class="st">"sum.outside"</span>,</span>
<span>                      reverse.colors <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                      reverse.scale <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                      show.n <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                      show.prc.sign <span class="op">=</span> <span class="cn">T</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">liker_icils</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">/</span><span class="va">b</span></span>
<span></span>
<span><span class="va">liker_icils</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-descr-icils" class="quarto-float quarto-figure quarto-figure-center anchored" data-cap-location="bottom">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-descr-icils-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Avances_files/figure-html/fig-descr-icils-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-descr-icils-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Digital self-efficacy ICILS
</figcaption></figure>
</div>
</div>
</div>
</section><section id="bivariates" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="bivariates">
<span class="header-section-number">1.2</span> Bivariates</h2>
<div class="cell fig-cap-location-bottom">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb2" data-cap-location="bottom"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu">psych</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/tetrachor.html">polychoric</a></span><span class="op">(</span><span class="va">icils</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">P</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">icils</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span><span class="op">]</span>, method <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">M</span><span class="op">$</span><span class="va">rho</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">M</span><span class="op">$</span><span class="va">rho</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"edit_photos (A)"</span>,</span>
<span>                     <span class="st">"edit_text (B)"</span>,</span>
<span>                     <span class="st">"search_info (C)"</span>,</span>
<span>                     <span class="st">"build_page (D)"</span>,</span>
<span>                     <span class="st">"change_settings (E)"</span>,</span>
<span>                     <span class="st">"create_pres (F)"</span>,</span>
<span>                     <span class="st">"upload_media (G)"</span>,</span>
<span>                     <span class="st">"insert_image (H)"</span>,</span>
<span>                     <span class="st">"install_app (I)"</span>,</span>
<span>                     <span class="st">"eval_info (J)"</span>,</span>
<span>                     <span class="st">"write_code (K)"</span>,</span>
<span>                     <span class="st">"devel_program (L)"</span>,</span>
<span>                     <span class="st">"find_source (M)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#set Column names of the matrix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">M</span><span class="op">$</span><span class="va">rho</span><span class="op">)</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"(A)"</span>, <span class="st">"(B)"</span>,<span class="st">"(C)"</span>,<span class="st">"(D)"</span>,<span class="st">"(E)"</span>,<span class="st">"(F)"</span>,<span class="st">"(G)"</span>,</span>
<span>                    <span class="st">"(H)"</span>,<span class="st">"(I)"</span>, <span class="st">"(J)"</span>, <span class="st">"(K)"</span>, <span class="st">"(L)"</span>, <span class="st">"(M)"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"edit_photos (A)"</span>,</span>
<span>                 <span class="st">"edit_text (B)"</span>,</span>
<span>                 <span class="st">"search_info (C)"</span>,</span>
<span>                 <span class="st">"build_page (D)"</span>,</span>
<span>                 <span class="st">"change_settings (E)"</span>,</span>
<span>                 <span class="st">"create_pres (F)"</span>,</span>
<span>                 <span class="st">"upload_media (G)"</span>,</span>
<span>                 <span class="st">"insert_image (H)"</span>,</span>
<span>                 <span class="st">"install_app (I)"</span>,</span>
<span>                 <span class="st">"eval_info (J)"</span>,</span>
<span>                 <span class="st">"write_code (K)"</span>,</span>
<span>                 <span class="st">"devel_program (L)"</span>,</span>
<span>                 <span class="st">"find_source (M)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#set Column names of the matrix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"(A)"</span>, <span class="st">"(B)"</span>,<span class="st">"(C)"</span>,<span class="st">"(D)"</span>,<span class="st">"(E)"</span>,<span class="st">"(F)"</span>,<span class="st">"(G)"</span>,</span>
<span>                <span class="st">"(H)"</span>,<span class="st">"(I)"</span>, <span class="st">"(J)"</span>, <span class="st">"(K)"</span>, <span class="st">"(L)"</span>, <span class="st">"(M)"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">testp</span> <span class="op">&lt;-</span> <span class="fu">cor.mtest</span><span class="op">(</span><span class="va">M</span><span class="op">$</span><span class="va">rho</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Plot the matrix using corrplot</span></span>
<span><span class="fu">corrplot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/corrplot/man/corrplot.html">corrplot</a></span><span class="op">(</span><span class="va">M</span><span class="op">$</span><span class="va">rho</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">"color"</span>,</span>
<span>                   addCoef.col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                   type <span class="op">=</span> <span class="st">"upper"</span>,</span>
<span>                   tl.col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                   col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/colorRamp.html">colorRampPalette</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#B42012"</span>, <span class="st">"white"</span>, <span class="st">"#E16462"</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>                   bg <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>                   na.label <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-corr-icils" class="quarto-float quarto-figure quarto-figure-center anchored" data-cap-location="bottom">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-corr-icils-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Avances_files/figure-html/fig-corr-icils-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corr-icils-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: ICILS correlations
</figcaption></figure>
</div>
</div>
</div>
</section><section id="confirmatory-factorial-analysis" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="confirmatory-factorial-analysis">
<span class="header-section-number">1.3</span> Confirmatory factorial analysis</h2>
</section></section><section id="pisa" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> PISA</h1>
<section id="descriptives-1" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="descriptives-1">
<span class="header-section-number">2.1</span> Descriptives</h2>
<div class="cell fig-cap-location-bottom">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb3" data-cap-location="bottom"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">c</span> <span class="op">&lt;-</span> <span class="va">pisa</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">search_info</span>, <span class="va">asses_info</span>, <span class="va">share_info</span>, <span class="va">pair_collab</span>, <span class="va">how_to_share</span>, </span>
<span>         <span class="va">edit_text</span>, <span class="va">collect_data</span>, <span class="va">create_pres</span>, <span class="va">page_web</span>, <span class="va">change_settings</span>, </span>
<span>         <span class="va">select_app</span>, <span class="va">create_program</span>, <span class="va">identify_error</span>, <span class="va">logical_solution</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">sjPlot</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjPlot/reference/plot_likert.html">plot_likert</a></span><span class="op">(</span>geom.colors <span class="op">=</span> <span class="st">"Reds"</span>,</span>
<span>                      title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Digital self-efficacy (n = 393.607)"</span><span class="op">)</span>,</span>
<span>                      sort.frq <span class="op">=</span> <span class="st">"pos.desc"</span>,</span>
<span>                      geom.size <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>                      axis.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"search_info"</span>, <span class="st">"asses_info"</span>, <span class="st">"share_info"</span>,</span>
<span>                                      <span class="st">"pair_collab"</span>, <span class="st">"how_to_share"</span>,                                                       <span class="st">"edit_text"</span>, <span class="st">"collect_data"</span>, <span class="st">"create_pres"</span>,</span>
<span>                                      <span class="st">"page_web"</span>, <span class="st">"change_settings"</span>, <span class="st">"select_app"</span>,</span>
<span>                                      <span class="st">"create_program"</span>, <span class="st">"identify_error"</span>,</span>
<span>                                      <span class="st">"logical_solution"</span><span class="op">)</span>,</span>
<span>                      catcount <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                      values  <span class="op">=</span>  <span class="st">"sum.outside"</span>,</span>
<span>                      reverse.colors <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                      reverse.scale <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                      show.n <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                      show.prc.sign <span class="op">=</span> <span class="cn">T</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">c</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-descr-pisa" class="quarto-float quarto-figure quarto-figure-center anchored" data-cap-location="bottom">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-descr-pisa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Avances_files/figure-html/fig-descr-pisa-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-descr-pisa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Digital self-efficacy PISA
</figcaption></figure>
</div>
</div>
</div>
</section><section id="bivariates-1" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="bivariates-1">
<span class="header-section-number">2.2</span> Bivariates</h2>
<div class="cell fig-cap-location-bottom">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb4" data-cap-location="bottom"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Mp</span> <span class="op">&lt;-</span> <span class="fu">psych</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/tetrachor.html">polychoric</a></span><span class="op">(</span><span class="va">pisa</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">14</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">pisa</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">14</span><span class="op">)</span><span class="op">]</span>, method <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">Mp</span><span class="op">$</span><span class="va">rho</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">Pp</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">Mp</span><span class="op">$</span><span class="va">rho</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"search_info (A)"</span>,</span>
<span>                      <span class="st">"asses_info (B)"</span>,</span>
<span>                      <span class="st">"share_info (C)"</span>,</span>
<span>                      <span class="st">"pair_collab (D)"</span>,</span>
<span>                      <span class="st">"explain_howtoshare (E)"</span>,</span>
<span>                      <span class="st">"edit_text (F)"</span>,</span>
<span>                      <span class="st">"collect_data (G)"</span>,</span>
<span>                      <span class="st">"create_pres (H)"</span>,</span>
<span>                      <span class="st">"page_web (I)"</span>, </span>
<span>                      <span class="st">"change_settings (J)"</span>,</span>
<span>                      <span class="st">"select_app (K)"</span>,</span>
<span>                      <span class="st">"create_program (L)"</span>, </span>
<span>                      <span class="st">"identify_error (M)"</span>,</span>
<span>                      <span class="st">"logical_solution (N)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#set Column names of the matrix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">Mp</span><span class="op">$</span><span class="va">rho</span><span class="op">)</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"(A)"</span>, <span class="st">"(B)"</span>,<span class="st">"(C)"</span>,<span class="st">"(D)"</span>,<span class="st">"(E)"</span>,<span class="st">"(F)"</span>,<span class="st">"(G)"</span>,</span>
<span>                    <span class="st">"(H)"</span>,<span class="st">"(I)"</span>, <span class="st">"(J)"</span>, <span class="st">"(K)"</span>, <span class="st">"(L)"</span>, <span class="st">"(M)"</span>, <span class="st">"(N)"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">Pp</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"search_info (A)"</span>,</span>
<span>                  <span class="st">"asses_info (B)"</span>,</span>
<span>                  <span class="st">"share_info (C)"</span>,</span>
<span>                  <span class="st">"pair_collab (D)"</span>,</span>
<span>                  <span class="st">"explain_howtoshare (E)"</span>,</span>
<span>                  <span class="st">"edit_text (F)"</span>,</span>
<span>                  <span class="st">"collect_data (G)"</span>,</span>
<span>                  <span class="st">"create_pres (H)"</span>,</span>
<span>                  <span class="st">"page_web (I)"</span>, </span>
<span>                  <span class="st">"change_settings (J)"</span>,</span>
<span>                  <span class="st">"select_app (K)"</span>,</span>
<span>                  <span class="st">"create_program (L)"</span>, </span>
<span>                  <span class="st">"identify_error (M)"</span>,</span>
<span>                  <span class="st">"logical_solution (N)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#set Column names of the matrix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">Pp</span><span class="op">)</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"(A)"</span>, <span class="st">"(B)"</span>,<span class="st">"(C)"</span>,<span class="st">"(D)"</span>,<span class="st">"(E)"</span>,<span class="st">"(F)"</span>,<span class="st">"(G)"</span>,</span>
<span>                <span class="st">"(H)"</span>,<span class="st">"(I)"</span>, <span class="st">"(J)"</span>, <span class="st">"(K)"</span>, <span class="st">"(L)"</span>, <span class="st">"(M)"</span>, <span class="st">"(N)"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">testpp</span> <span class="op">&lt;-</span> <span class="fu">cor.mtest</span><span class="op">(</span><span class="va">Mp</span><span class="op">$</span><span class="va">rho</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Plot the matrix using corrplot</span></span>
<span><span class="fu">corrplot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/corrplot/man/corrplot.html">corrplot</a></span><span class="op">(</span><span class="va">Mp</span><span class="op">$</span><span class="va">rho</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">"color"</span>,</span>
<span>                   addCoef.col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                   type <span class="op">=</span> <span class="st">"upper"</span>,</span>
<span>                   tl.col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                   col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/colorRamp.html">colorRampPalette</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#B42012"</span>, <span class="st">"white"</span>, <span class="st">"#E16462"</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>                   bg <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>                   number.digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                   na.label <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-corr-pisa" class="quarto-float quarto-figure quarto-figure-center anchored" data-cap-location="bottom">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-corr-pisa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Avances_files/figure-html/fig-corr-pisa-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corr-pisa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: PISA correlations
</figcaption></figure>
</div>
</div>
</div>
</section><section id="exploratory-factor-model" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="exploratory-factor-model">
<span class="header-section-number">2.3</span> 3 Exploratory factor model</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pisa_efa</span> <span class="op">&lt;-</span> <span class="va">pisa</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">search_info</span>, <span class="va">asses_info</span>, <span class="va">share_info</span>, <span class="va">pair_collab</span>, <span class="va">how_to_share</span>, </span>
<span>         <span class="va">edit_text</span>, <span class="va">collect_data</span>, <span class="va">create_pres</span>, <span class="va">page_web</span>, <span class="va">change_settings</span>, </span>
<span>         <span class="va">select_app</span>, <span class="va">create_program</span>, <span class="va">identify_error</span>, <span class="va">logical_solution</span><span class="op">)</span></span>
<span><span class="va">corMat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">pisa_efa</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu">KMO</span><span class="op">(</span><span class="va">corMat</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Kaiser-Meyer-Olkin factor adequacy
Call: KMO(r = corMat)
Overall MSA =  NA
MSA for each item = 
     search_info       asses_info       share_info      pair_collab 
              NA               NA               NA               NA 
    how_to_share        edit_text     collect_data      create_pres 
              NA               NA               NA               NA 
        page_web  change_settings       select_app   create_program 
              NA               NA               NA               NA 
  identify_error logical_solution 
              NA               NA </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">cortest.bartlett</span><span class="op">(</span><span class="va">corMat</span>, n <span class="op">=</span> <span class="fl">393607</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$chisq
[1] NA

$p.value
[1] NA

$df
[1] 91</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fac_pa</span> <span class="op">&lt;-</span> <span class="fu">fa</span><span class="op">(</span>r <span class="op">=</span> <span class="va">pisa_efa</span>, nfactors <span class="op">=</span> <span class="fl">3</span>, fm<span class="op">=</span> <span class="st">"pa"</span><span class="op">)</span></span>
<span><span class="va">fac_pa</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  pa
Call: fa(r = pisa_efa, nfactors = 3, fm = "pa")
Standardized loadings (pattern matrix) based upon correlation matrix
                   PA1   PA3   PA2   h2   u2 com
search_info       0.79  0.06 -0.08 0.67 0.33 1.0
asses_info        0.75  0.05  0.06 0.67 0.33 1.0
share_info        0.90 -0.07  0.04 0.74 0.26 1.0
pair_collab       0.81 -0.01  0.04 0.67 0.33 1.0
how_to_share      0.63  0.18  0.06 0.66 0.34 1.2
edit_text         0.51  0.37 -0.07 0.65 0.35 1.9
collect_data      0.17  0.60  0.05 0.60 0.40 1.2
create_pres       0.04  0.81 -0.06 0.65 0.35 1.0
page_web         -0.13  0.65  0.27 0.57 0.43 1.4
change_settings   0.11  0.68  0.00 0.60 0.40 1.1
select_app        0.09  0.65  0.10 0.62 0.38 1.1
create_program   -0.07  0.09  0.79 0.68 0.32 1.0
identify_error    0.05  0.00  0.87 0.79 0.21 1.0
logical_solution  0.07 -0.03  0.86 0.75 0.25 1.0

                       PA1  PA3  PA2
SS loadings           3.83 3.06 2.41
Proportion Var        0.27 0.22 0.17
Cumulative Var        0.27 0.49 0.66
Proportion Explained  0.41 0.33 0.26
Cumulative Proportion 0.41 0.74 1.00

 With factor correlations of 
     PA1  PA3  PA2
PA1 1.00 0.79 0.31
PA3 0.79 1.00 0.59
PA2 0.31 0.59 1.00

Mean item complexity =  1.1
Test of the hypothesis that 3 factors are sufficient.

df null model =  91  with the objective function =  10.01 with Chi Square =  3939795
df of  the model are 52  and the objective function was  0.3 

The root mean square of the residuals (RMSR) is  0.02 
The df corrected root mean square of the residuals is  0.03 

The harmonic n.obs is  287326 with the empirical chi square  23624.56  with prob &lt;  0 
The total n.obs was  393607  with Likelihood Chi Square =  117506.3  with prob &lt;  0 

Tucker Lewis Index of factoring reliability =  0.948
RMSEA index =  0.076  and the 90 % confidence intervals are  0.075 0.076
BIC =  116836.3
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                   PA1  PA3  PA2
Correlation of (regression) scores with factors   0.96 0.95 0.95
Multiple R square of scores with factors          0.93 0.90 0.90
Minimum correlation of possible factor scores     0.85 0.81 0.80</code></pre>
</div>
</div>
</section><section id="confirmatory-factor-analysis" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="confirmatory-factor-analysis">
<span class="header-section-number">2.4</span> Confirmatory factor analysis</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">model_cfa</span> <span class="op">&lt;-</span> <span class="st">'</span></span>
<span><span class="st">  gen_dse = ~ search_info + asses_info + share_info + pair_collab + how_to_share + </span></span>
<span><span class="st">         edit_text + collect_data + create_pres + change_settings + select_app</span></span>
<span><span class="st">  spec_dse = ~ page_web + create_program + identify_error + logical_solution</span></span>
<span><span class="st">  '</span></span>
<span></span>
<span><span class="va">m_cfa</span> <span class="op">&lt;-</span> <span class="fu">cfa</span><span class="op">(</span>model <span class="op">=</span> <span class="va">model_cfa</span>, </span>
<span>              data <span class="op">=</span> <span class="va">pisa</span>, </span>
<span>              estimator <span class="op">=</span> <span class="st">"DWLS"</span>,</span>
<span>              ordered <span class="op">=</span> <span class="cn">T</span>,</span>
<span>              std.lv <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tbl-cap-location="bottom">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">standardizedsolution</span><span class="op">(</span><span class="va">m_cfa</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">op</span> <span class="op">==</span> <span class="st">"=~"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span>Factor <span class="op">=</span> <span class="va">lhs</span>, Indicator <span class="op">=</span> <span class="va">rhs</span>, `Loading (DWLS)` <span class="op">=</span> <span class="va">est.std</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">kable</span><span class="op">(</span>format <span class="op">=</span> <span class="st">"markdown"</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-factor-loadings" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-cap-location="bottom">
<figure class="quarto-float quarto-float-tbl figure"><div aria-describedby="tbl-factor-loadings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">Factor</th>
<th style="text-align: left;">Indicator</th>
<th style="text-align: right;">Loading (DWLS)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">search_info</td>
<td style="text-align: right;">0.90</td>
</tr>
<tr class="even">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">asses_info</td>
<td style="text-align: right;">0.89</td>
</tr>
<tr class="odd">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">share_info</td>
<td style="text-align: right;">0.90</td>
</tr>
<tr class="even">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">pair_collab</td>
<td style="text-align: right;">0.88</td>
</tr>
<tr class="odd">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">how_to_share</td>
<td style="text-align: right;">0.89</td>
</tr>
<tr class="even">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">edit_text</td>
<td style="text-align: right;">0.89</td>
</tr>
<tr class="odd">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">collect_data</td>
<td style="text-align: right;">0.84</td>
</tr>
<tr class="even">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">create_pres</td>
<td style="text-align: right;">0.85</td>
</tr>
<tr class="odd">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">change_settings</td>
<td style="text-align: right;">0.85</td>
</tr>
<tr class="even">
<td style="text-align: left;">gen_dse</td>
<td style="text-align: left;">select_app</td>
<td style="text-align: right;">0.86</td>
</tr>
<tr class="odd">
<td style="text-align: left;">spec_dse</td>
<td style="text-align: left;">page_web</td>
<td style="text-align: right;">0.91</td>
</tr>
<tr class="even">
<td style="text-align: left;">spec_dse</td>
<td style="text-align: left;">create_program</td>
<td style="text-align: right;">0.85</td>
</tr>
<tr class="odd">
<td style="text-align: left;">spec_dse</td>
<td style="text-align: left;">identify_error</td>
<td style="text-align: right;">0.92</td>
</tr>
<tr class="even">
<td style="text-align: left;">spec_dse</td>
<td style="text-align: left;">logical_solution</td>
<td style="text-align: right;">0.90</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-factor-loadings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: PISA Factor loadings
</figcaption></figure>
</div>
</div>
<p>En <a href="#tbl-factor-loadings" class="quarto-xref">Table&nbsp;1</a> las cargas factoriales se encuentran estandarizadas. Resulta llamativo que todos los loadings son bastante altos, lo cual podría sugerir que los factores están sobre explicando a los indicadores</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">m_cfa</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 39 iterations

  Estimator                                       DWLS
  Optimization method                           NLMINB
  Number of model parameters                        57

                                                  Used       Total
  Number of observations                        238341      393607

Model Test User Model:
                                                        
  Test statistic                              288720.828
  Degrees of freedom                                  76
  P-value (Chi-square)                             0.000

Parameter Estimates:

  Parameterization                               Delta
  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model        Unstructured

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
  gen_dse =~                                          
    search_info       1.000                           
    asses_info        0.985    0.001 1432.156    0.000
    share_info        0.999    0.001 1539.979    0.000
    pair_collab       0.978    0.001 1529.084    0.000
    how_to_share      0.982    0.001 1558.342    0.000
    edit_text         0.983    0.001 1524.282    0.000
    collect_data      0.936    0.001 1442.837    0.000
    create_pres       0.945    0.001 1453.897    0.000
    change_settngs    0.938    0.001 1429.587    0.000
    select_app        0.950    0.001 1453.357    0.000
  spec_dse =~                                         
    page_web          1.000                           
    create_program    0.933    0.001 1089.825    0.000
    identify_error    1.009    0.001 1149.980    0.000
    logical_solutn    0.987    0.001 1146.354    0.000

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
  gen_dse ~~                                          
    spec_dse          0.572    0.000 1211.191    0.000

Thresholds:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
    search_info|t1   -1.549    0.004 -380.692    0.000
    search_info|t2   -1.186    0.003 -354.693    0.000
    search_info|t3   -0.387    0.003 -146.511    0.000
    asses_info|t1    -1.620    0.004 -380.467    0.000
    asses_info|t2    -1.126    0.003 -345.796    0.000
    asses_info|t3    -0.074    0.003  -28.906    0.000
    share_info|t1    -1.582    0.004 -380.794    0.000
    share_info|t2    -1.132    0.003 -346.832    0.000
    share_info|t3    -0.235    0.003  -90.471    0.000
    pair_collab|t1   -1.631    0.004 -380.287    0.000
    pair_collab|t2   -1.153    0.003 -350.026    0.000
    pair_collab|t3   -0.236    0.003  -90.880    0.000
    how_to_shar|t1   -1.552    0.004 -380.712    0.000
    how_to_shar|t2   -1.044    0.003 -331.817    0.000
    how_to_shar|t3   -0.098    0.003  -38.157    0.000
    edit_text|t1     -1.628    0.004 -380.344    0.000
    edit_text|t2     -1.139    0.003 -347.922    0.000
    edit_text|t3     -0.241    0.003  -92.726    0.000
    collect_dat|t1   -1.442    0.004 -377.825    0.000
    collect_dat|t2   -0.875    0.003 -295.833    0.000
    collect_dat|t3    0.076    0.003   29.569    0.000
    create_pres|t1   -1.481    0.004 -379.305    0.000
    create_pres|t2   -0.904    0.003 -302.542    0.000
    create_pres|t3    0.013    0.003    5.025    0.000
    chng_sttngs|t1   -1.488    0.004 -379.536    0.000
    chng_sttngs|t2   -0.950    0.003 -312.938    0.000
    chng_sttngs|t3   -0.065    0.003  -25.301    0.000
    select_app|t1    -1.429    0.004 -377.175    0.000
    select_app|t2    -0.879    0.003 -296.674    0.000
    select_app|t3     0.060    0.003   23.315    0.000
    page_web|t1      -1.146    0.003 -348.972    0.000
    page_web|t2      -0.508    0.003 -188.794    0.000
    page_web|t3       0.368    0.003  139.929    0.000
    creat_prgrm|t1   -0.728    0.003 -257.294    0.000
    creat_prgrm|t2   -0.108    0.003  -41.994    0.000
    creat_prgrm|t3    0.663    0.003  238.260    0.000
    identfy_rrr|t1   -0.887    0.003 -298.654    0.000
    identfy_rrr|t2   -0.264    0.003 -101.714    0.000
    identfy_rrr|t3    0.573    0.003  210.225    0.000
    logicl_sltn|t1   -0.871    0.003 -294.738    0.000
    logicl_sltn|t2   -0.279    0.003 -107.088    0.000
    logicl_sltn|t3    0.549    0.003  202.488    0.000

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
   .search_info       0.185                           
   .asses_info        0.209                           
   .share_info        0.187                           
   .pair_collab       0.221                           
   .how_to_share      0.215                           
   .edit_text         0.213                           
   .collect_data      0.286                           
   .create_pres       0.272                           
   .change_settngs    0.283                           
   .select_app        0.265                           
   .page_web          0.169                           
   .create_program    0.277                           
   .identify_error    0.153                           
   .logical_solutn    0.190                           
    gen_dse           0.815    0.001 1118.080    0.000
    spec_dse          0.831    0.001  746.841    0.000</code></pre>
</div>
</div>
<div class="cell" data-tbl-cap-location="bottom">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit_icils</span> <span class="op">&lt;-</span> <span class="fu">fitMeasures</span><span class="op">(</span><span class="va">m_cfa</span>,</span>
<span>                         <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chisq"</span>, <span class="st">"df"</span>, <span class="st">"pvalue"</span>, <span class="st">"cfi"</span>, <span class="st">"tli"</span>, <span class="st">"rmsea"</span>, <span class="st">"srmr"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">fit_icils</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-fit-pisa" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-cap-location="bottom">
<figure class="quarto-float quarto-float-tbl figure"><div aria-describedby="tbl-fit-pisa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">x</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">chisq</td>
<td style="text-align: right;">288720.82845226</td>
</tr>
<tr class="even">
<td style="text-align: left;">df</td>
<td style="text-align: right;">76.00000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pvalue</td>
<td style="text-align: right;">0.00000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">cfi</td>
<td style="text-align: right;">0.99100555</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tli</td>
<td style="text-align: right;">0.98923032</td>
</tr>
<tr class="even">
<td style="text-align: left;">rmsea</td>
<td style="text-align: right;">0.12623408</td>
</tr>
<tr class="odd">
<td style="text-align: left;">srmr</td>
<td style="text-align: right;">0.08123271</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-fit-pisa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: PISA Fit measures
</figcaption></figure>
</div>
</div>
<p><span class="math inline">\(\chi^2\)</span> es un número extremadamente alto y significativo, lo cual no es buen indicio, pero esto puede deberse al gran tamaño de la muestra (N &gt; 200 tienden a dar <span class="math inline">\(\chi^2\)</span> significativo).</p>
<p>El <em>CFI</em> y el <em>TLI</em> poseen valores que sugieren un buen ajuste del modelo (<em>CFI</em> &amp; <em>TLI</em> &gt; 0.95), aunque el <em>RMSEA</em> contradice los indices de ajuste anteriores (<em>RMSEA</em> &lt; 0.05), lo cual evidencia una incongruencia en el modelo.</p>
</section><section id="appendix" class="level2" data-number="2.5"><h2 data-number="2.5" class="anchored" data-anchor-id="appendix">
<span class="header-section-number">2.5</span> Appendix</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m2_cfa</span> <span class="op">&lt;-</span> <span class="fu">cfa</span><span class="op">(</span><span class="va">model_cfa</span>, data<span class="op">=</span><span class="va">pisa</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">m2_cfa</span>, fit.measures<span class="op">=</span><span class="cn">TRUE</span>, standardized<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 34 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        29

                                                  Used       Total
  Number of observations                        238341      393607

Model Test User Model:
                                                        
  Test statistic                              268913.009
  Degrees of freedom                                  76
  P-value (Chi-square)                             0.000

Model Test Baseline Model:

  Test statistic                           2733389.314
  Degrees of freedom                                91
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.902
  Tucker-Lewis Index (TLI)                       0.882

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)           -3243505.913
  Loglikelihood unrestricted model (H1)             NA
                                                      
  Akaike (AIC)                             6487069.826
  Bayesian (BIC)                           6487370.888
  Sample-size adjusted Bayesian (SABIC)    6487278.725

Root Mean Square Error of Approximation:

  RMSEA                                          0.122
  90 Percent confidence interval - lower         0.121
  90 Percent confidence interval - upper         0.122
  P-value H_0: RMSEA &lt;= 0.050                    0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.091

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model          Structured

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  gen_dse =~                                                            
    search_info       1.000                               0.698    0.818
    asses_info        0.992    0.002  485.276    0.000    0.692    0.829
    share_info        1.035    0.002  501.444    0.000    0.722    0.847
    pair_collab       0.991    0.002  483.846    0.000    0.691    0.827
    how_to_share      1.049    0.002  494.921    0.000    0.732    0.840
    edit_text         1.013    0.002  496.951    0.000    0.707    0.842
    collect_data      1.003    0.002  429.852    0.000    0.700    0.762
    create_pres       1.001    0.002  434.088    0.000    0.698    0.768
    change_settngs    0.979    0.002  423.582    0.000    0.683    0.754
    select_app        0.990    0.002  418.913    0.000    0.691    0.748
  spec_dse =~                                                           
    page_web          1.000                               0.695    0.684
    create_program    1.324    0.004  367.331    0.000    0.920    0.833
    identify_error    1.390    0.004  390.575    0.000    0.966    0.901
    logical_solutn    1.369    0.004  383.716    0.000    0.952    0.879

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  gen_dse ~~                                                            
    spec_dse          0.261    0.001  189.981    0.000    0.538    0.538

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .search_info       0.241    0.001  309.267    0.000    0.241    0.331
   .asses_info        0.218    0.001  306.145    0.000    0.218    0.313
   .share_info        0.205    0.001  300.024    0.000    0.205    0.283
   .pair_collab       0.220    0.001  306.632    0.000    0.220    0.316
   .how_to_share      0.224    0.001  302.637    0.000    0.224    0.295
   .edit_text         0.205    0.001  301.846    0.000    0.205    0.291
   .collect_data      0.353    0.001  320.569    0.000    0.353    0.419
   .create_pres       0.340    0.001  319.721    0.000    0.340    0.411
   .change_settngs    0.353    0.001  321.767    0.000    0.353    0.431
   .select_app        0.375    0.001  322.617    0.000    0.375    0.440
   .page_web          0.551    0.002  317.635    0.000    0.551    0.533
   .create_program    0.373    0.001  271.123    0.000    0.373    0.306
   .identify_error    0.217    0.001  202.987    0.000    0.217    0.189
   .logical_solutn    0.268    0.001  231.455    0.000    0.268    0.228
    gen_dse           0.487    0.002  241.129    0.000    1.000    1.000
    spec_dse          0.483    0.003  184.130    0.000    1.000    1.000</code></pre>
</div>
</div>
</section></section></main><!-- /main column --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>